<html>
  <head>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.4.0/lib/p5.js"></script>
    <script type="text/javascript">
    
    function setup() {
  createCanvas(400, 400);
}
var value=234,x=55,y=25;
var snake=[{x:5,y:10},{x:5,y:15},{x:5,y:20},{x:5,y:25},{x:5,y:30},{x:5,y:35},{x:5,y:40},{x:5,y:45},{x:5,y:50},{x:5,y:55}];
var flag=2;
var foodx=Math.floor(Math.random() * 300);
var foody=Math.floor(Math.random() * 300);
var dir=1;
var dx=0,dy=0;

function draw() {
  if(Math.abs(snake[snake.length-1].x-foodx)<=5 && Math.abs(snake[snake.length-1].y-foody)<=5)
  {
    if(flag==1)
    {
    snake.push({x:snake[snake.length-1].x-5,y:snake[snake.length-1].y});
    }
    if(flag==2)
    {
    snake.push({x:snake[snake.length-1].x+5,y:snake[snake.length-1].y});
    }
    if(flag==3)
    {
    snake.push({x:snake[snake.length-1].x,y:snake[snake.length-1].y-5});
    }
    if(flag==4)
    {
    snake.push({x:snake[snake.length-1].x,y:snake[snake.length-1].y+5});
    }
    foodx=Math.floor(Math.random() * 300);
    foody=Math.floor(Math.random() * 300);
  }
  
  
    gridOutput();
    background(148, 196, 0);
  fill(255);
  frameRate(105);
  rect(foodx,foody,10,10);
  
  if(snake[snake.length-1].x>400)
  {
  noLoop();
  }
  else if(snake[snake.length-1].y>400)
  {
   noLoop();
  }
 
 if(flag==2)
  {
   
   
   for(var i=0;i<snake.length;i++)
  {  
    fill(0);
    rect(snake[i].x, snake[i].y, 10, 10);
    if(snake[i].y==snake[snake.length-1].y)
    {
      snake[i].x=snake[i].x+1;

    }
    else
    {
      if(snake[0].y<snake[1].y)
      {
      snake[i].y=snake[i].y+1;
      }
      else
      {
        snake[i].y=snake[i].y-1;
      }
    }

 }

  }
  if(flag==1)
  {
   
   for(var i=0;i<snake.length;i++)
  {  
    fill(0);
    rect(snake[i].x, snake[i].y, 10, 10);
    if(snake[i].y==snake[snake.length-1].y)
    {
      snake[i].x=snake[i].x-1;

    }
    else
    {
      if(snake[0].y<snake[1].y)
      {
      snake[i].y=snake[i].y+1;
      }
      else
      {
        snake[i].y=snake[i].y-1
      }
    }

 }
}

  

 

    
  
 
if(flag==3)
  {
   
   for(var i=0;i<snake.length;i++)
  {  
    fill(0);
    rect(snake[i].x, snake[i].y, 10, 10);
    if(snake[i].x==snake[snake.length-1].x)
    {
      snake[i].y=snake[i].y-1;

    }
    else
    {
      if(snake[0].x<snake[1].x)
      {
      snake[i].x=snake[i].x+1;
      }
      else
      {
        snake[i].x=snake[i].x-1
      }
    }

 }
}
 if(flag==4)
 {
   
   
   for(var i=0;i<snake.length;i++)
  {  
    fill(0);
    rect(snake[i].x, snake[i].y, 10, 10);
    if(snake[i].x==snake[snake.length-1].x)
    {
      snake[i].y=snake[i].y+1;

    }
    else
    {
      if(snake[0].x<snake[1].x)
      {
      snake[i].x=snake[i].x+1;
      }
      else
      {
        snake[i].x=snake[i].x-1;
      }
    }

 
  }
}
console.log(snake);
}
function keyPressed() {
  if (keyCode === LEFT_ARROW) {
    
    flag=1
    
  } else if (keyCode === RIGHT_ARROW) {
    flag=2
      }
  else if (keyCode === UP_ARROW) {
    flag=3
  }
  else if (keyCode === DOWN_ARROW) {
    flag=4;
    
  }
  
}
    
    </script>
  </head>
  <body>
    <main>
    </main>
  </body>
</html>
